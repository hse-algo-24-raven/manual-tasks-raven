# Задача о коммивояжера. Метод ветвей и границ.

## Вариант 6:

### Постановка задачи
Имеется N городов, связанных дорогами. Расстояния между городами известны. Коммивояжер (бродячий торговец) должен выйти из первого города, посетить по одному разу в некотором порядке города 2,3..n и вернуться в первый город. В каком порядке следует посещать города, чтобы замкнутый путь коммивояжера имел кратчайшее расстояние?

Матрица расстояний:

|       | **A** | **B** | **C** | **D** | **E** |
|:------|:-----:|:-----:|:-----:|:-----:|:-----:|
| **A** | **∞** |   4   |   5   |   7   |   5   |
| **B** |   8   | **∞** |   5   |   6   |   6   |
| **C** |   3   |   5   | **∞** |   9   |   6   |
| **D** |   3   |   5   |   6   | **∞** |   2   |
| **E** |   6   |   2   |   3   |   8   | **∞** | 

### Математическая модель
Для моделирования задачи можно использовать теорию графов. Города можно перенумеровать и представить в виде вершин графа, а рёбра (*i*, *j*) между вершинами *i* и *j* будут соответствовать пути между этими городами. Каждому ребру (*i*, *j*) можно сопоставить расстояние между городами С<sub>ij</sub> ⩾ 0. Таким образом, задачу можно сформулировать так: 

Дан полный граф с n вершинами, длина ребра (i,j)= С<sub>ij</sub>. Найти гамильтонов цикл минимальной длины.

Гамильтоновым циклом называется маршрут, включающий ровно по одному разу каждую вершину графа.

## Решение
### 1. Проведем редукцию строк матрицы

|       | **A** | **B** | **C** | **D** | **E** | Min |
|:------|:-----:|:-----:|:-----:|:-----:|:-----:|:---:|
| **A** | **∞** |   4   |   5   |  7   |  5   |  4  |
| **B** |   8   | **∞** |   5   |  6   |   6   |  5  |
| **C** |   3   |   5   | **∞** |   9   |   6   |  3  |
| **D** |   3   |   5   |   6   | **∞** |   2   |  2  |
| **E** |   6   |   2   |   3   |  8   | **∞** |  2  |
| Sum   |       |       |       |       |       | 16 |

Сумма констант редукции по строкам 16

Марица после редукции строк:

|       | **A** | **B** | **C** | **D** | **E** |
|:------|:-----:|:-----:|:-----:|:-----:|:-----:|
| **A** | **∞** |   0   |   1   |   3   |   1   |
| **B** |   3   | **∞** |   0   |   1   |   1   |
| **C** |   0   |   2   | **∞** |   6   |   3   |
| **D** |   1   |   3   |   4   | **∞** |   0   |
| **E** |   4   |   0   |   1   |   6   | **∞** |

### 2. Проведем редукцию столбцов матрицы

|       | **A** | **B** | **C** | **D** | **E** | Sum |
|:------|:-----:|:-----:|:-----:|:-----:|:-----:|:---:|
| **A** | **∞** |   0   |   1   |   3   |   1   |     |
| **B** |   3   | **∞** |   0   |   1   |   1   |     |
| **C** |   0   |   2   | **∞** |   6   |   3   |     |
| **D** |   1   |   3   |   4   | **∞** |   0   |     |
| **E** |   4   |   0   |   1   |   6   | **∞** |     |
| Min   |   0   |   0   |   0   |   1   |   0   |  1  |

Сумма констант редукции по столбцам 1

Марица после редукции столбцов:

|       | **A** | **B** | **C** | **D** | **E** |
|:------|:-----:|:-----:|:-----:|:-----:|:-----:|
| **A** | **∞** |   0   |   1   |   2   |   1   |
| **B** |   3   | **∞** |   0   |   0   |   1   |
| **C** |   0   |   2   | **∞** |   5   |   3   |
| **D** |   1   |   3   |   4   | **∞** |   0   |
| **E** |   4   |   0   |   1   |   5   | **∞** |

### 3. Оценка длины маршрута

Оценка длины маршрута снизу соответствует сумме констант редукции по строкам и по столбцам

16 + 1 = 17
