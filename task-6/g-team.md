# 6. Придумать условия задачи разделения процессоров (исполнителей 3+, заданий 5+) и решить соответствующую задачу.

## Входные данные(придуманные условия)

P<sub>1</sub> = 4<br>
P<sub>2</sub> = 2<br>
P<sub>3</sub> = 1

| Задание | Длительность |
|---------|--------------|
| A       | 40           |
| B       | 30           |
| C       | 20           |
| D       | 10           |
| E       | 5            |


## Найдём минимальное время, за которое можно выполнить все задания

### t<sub>min</sub> = $\frac{A + B + C + D + E}{P_1 + P_2 + P_3}$ = $\frac{40 + 30 + 20 + 10 + 5}{4 + 2 + 1}$ = 15 минут
<br>


## Расчёт и распределение задач

### Этап 1: Распределение задач A, B и C 

На начальном этапе берём 3 самых крупных задания (A, B, C) и распределяем между ними процессоры по убыванию производительности. Рассчитаем время \(t\), при котором их оставшиеся объёмы сравняются:

```javascript
А и В: 40 - 4t = 30 - 2t => t = 5
В и С: 30 - 2t = 20 - t => t = 10
С и D: 20 - t = 10 => t = 10
```

Обновляем оставшиеся объёмы:
- A<sub>новое</sub> = 40 - 4 × 5 = 20
- B<sub>новое</sub> = 30 - 2 × 5 = 20
- C<sub>новое</sub> = 20 - 1 × 5 = 15

Время работы на этом этапе: T = 5.



### Этап 2: Продолжение распределения

Теперь расставляем приоритеты выполнения первого процесса на задачи А и В, а второго на С и D. Рассчитаем момент времени \(t\), при котором задачи сравняются:

```javascript
AB и С: 20 - 2t = 15-2t => t = нет решений
С и D: 15 - 2t = 10 - t => t = 5
D и E: 10 - t = 5 => t = 5
```

Обновляем оставшиеся объёмы:
- A<sub>новое</sub> = 20 - 2 × 5 = 10
- B<sub>новое</sub> = 20 - 2 × 5 = 10
- C<sub>новое</sub> = 15 - 2 × 5 = 5
- D<sub>новое</sub> = 10

Время работы на этом этапе: T = 5.


### Этап 3: Завершаем задачи

Задачи (A, B и C, D, Е) теперь имеют одинаковую длительность (10 и 5). Завершаем их выполнение равномерно за оставшиеся \(5\) минут (первые на исполнителе 1, вторые на исполнителях 2 и 3).

```javascript
10 - 4/2t = 5 - 3/3t => t = 5
```
Время работы на этом этапе: T = 5.

## Итоговая диаграмма Ганта

```mermaid
gantt
title Диаграмма Ганта - Оптимальное расписание для наших входных данных
dateFormat DD HH:mm
axisFormat %H:%M
Начало выполнения работ : milestone, m1, 01 00:00, 0h
section Исполнитель 1
A         :a1, 01 00:00, 5h
A         :a2, after a1, 2,5h
B         :a3, after a2, 2,5h
A         :a4, after a3, 2,5h
B         :a5, after a4, 2,5h
section Исполнитель 2
B         :b1, 01 00:00, 5h
C         :b2, after b1, 5h
C         :b3, after b2, 1,6h
D         :b4, after b3, 1,6h
E         :b5, after b4, 1,6h
section Исполнитель 3
C         :a1, 01 00:00, 5h
D         :a2, after a1, 5h
E         :a3, after a2, 1,6h
C         :a4, after a3, 1,6h
D         :a5, after a4, 1,6h
Окончание выполнения работ : milestone, m2, after b9, 0h
```