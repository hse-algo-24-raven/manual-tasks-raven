# Задание №13
# Вариант №6
# Задача о рюкзаке (Knapsack problem). Генетический алгоритм.

## Задание
Для каждого варианта представлены условия задачи, в соответствии с которыми необходимо: 
1. Решить задачу о рюкзаке с применением генетического алгоритма.
2. Оформить решение задачи по шагам с подробными комментариями, таблицами и диаграммами.
3. В ответе указать:
   - максимально возможную стоимость предметов в рюкзаке,
   - набор предметов, обеспечивающих максимальную стоимость,
   - общий вес предметов в рюкзаке,
   - свободное место в рюкзаке.

## Постановка задачи
Решить задачу о рюкзаке с применением генетического алгоритма, с учетом следующих требований:

Придумать условия задачи с количеством предметов не менее 7.
Численность популяции не менее 4 особей, в скрещивании участвует половина популяции.
Для скрещивания выбираются сильнейшие особи, скрещивание – одноточечное.
До выполнения алгоритма сформулировать стратегию применения оператора мутации.
Сформировать не менее 3 поколений, не считая первоначального.

## Условия задачи

| Вес       |  5  | 3  | 8 | 16 | 11 | 4 | 9 |
|:---------:|:---:|:--:|:-:|:--:|:--:|:-:|:-:|
| Стоимость | 10  | 12 | 4 | 7  | 11 | 6 | 2 |

W = 12

Если у нас появляется нежизнеспособная особь, применим мутацию.
А именно, заменим случайный 0 на 1.

## Решение
### 1. 
Заполним таблицу первого поколения четырех особей случайными значениями 0,1:


| Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Х2 | 0 | 1 | 0 | 1 | 0 | 1 | 0 |

| Х3 | 1 | 0 | 0 | 0 | 1 | 0 | 1 |

| Х4 | 0 | 1 | 0 | 0 | 0 | 1 | 1 |

### 2.
Проверим особей на приспособленность и посчитаем стоимость:


| Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 | 32 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х2 | 0 | 1 | 0 | 1 | 0 | 1 | 0 | 25 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х3 | 1 | 0 | 0 | 0 | 1 | 0 | 1 | 23 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х4 | 0 | 1 | 0 | 0 | 0 | 1 | 1 | 20 |


### 3.
Для скрещивания отбираем сильнейших особей, для этого отсортируем по убыванию и возьмем 2 первые особи:

| Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 | 32 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х2 | 0 | 1 | 0 | 1 | 0 | 1 | 0 | 25 |

### 4. 
Для одноточечного скрещивания проведем произвольную линию:

| Х1 | 1 | 0 | 1/ | 1 | 1 | 0 | 0 |
|:--:|:-:|:-:|:--:|:-:|:-:|:-:|:-:|
| Х2 | 0 | 1 | 0\ | 1 | 0 | 1 | 0 |


И сформируем следующих потомков:

| Х5 | 1 | 0 | 1 | 1 | 0 | 1 | 0 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Х6 | 0 | 1 | 0 | 1 | 1 | 0 | 0 |

Проверим их на приспособленность, в случае чего введем мутацию:

| Х5 | 1 | 0 | 1 | 1 | 0 | 1 | 0 | 27 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х6 | 0 | 1 | 0 | 1 | 1 | 0 | 0 | 29 |

Оба потомка приспособлены, мутация не требуется.

### 4.
Составим таблицу второго поколения, с соответствующими данными:

| Х5 | 1 | 0 | 1 | 1 | 0 | 1 | 0 | 27 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х6 | 0 | 1 | 0 | 1 | 1 | 0 | 0 | 29 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 | 32 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х2 | 0 | 1 | 0 | 1 | 0 | 1 | 0 | 25 |

### 5.
Для скрещивания отбираем сильнейших особей, для этого отсортируем по убыванию и возьмем 2 первые особи:

| Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 | 32 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х6 | 0 | 1 | 0 | 1 | 1 | 0 | 0 | 29 |

### 6. 
Для одноточечного скрещивания проведем произвольную линию:

| Х1 | 1 | 0/ | 1 | 1 | 1 | 0 | 0 |
|:--:|:-:|:--:|:-:|:-:|:-:|:-:|:-:|
| Х6 | 0 | 1\ | 0 | 1 | 1 | 0 | 0 |


И сформируем следующих потомков:

| Х7 | 1 | 0 | 0 | 1 | 1 | 0 | 0 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Х8 | 0 | 1 | 1 | 1 | 1 | 0 | 0 |

Проверим их на приспособленность, в случае чего введем мутацию:

| Х7 | 1 | 0 | 0 | 1 | 1 | 0 | 0 | 28 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х8 | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 34 |

Оба потомка приспособлены, мутация не требуется.


### 6.
Составим таблицу третьего поколения, взяв самых сильных потомков из предыдущего поколения, с соответствующими данными:

| Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 | 32 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х6 | 0 | 1 | 0 | 1 | 1 | 0 | 0 | 29 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х7 | 1 | 0 | 0 | 1 | 1 | 0 | 0 | 28 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х8 | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 34 |

### 7.
Для скрещивания отбираем сильнейших особей, для этого отсортируем по убыванию и возьмем 2 первые особи:

| Х8 | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 34 |
|:--:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 | 32 |

### 8. 
Для одноточечного скрещивания проведем произвольную линию:

| Х8 | 0/ | 1 | 1 | 1 | 1 | 0 | 0 |
|:--:|:--:|:-:|:-:|:-:|:-:|:-:|:-:|
| Х1 | 1\ | 0 | 1 | 1 | 1 | 0 | 0 |


И сформируем следующих потомков:

|  Х9 | 0 | 0 | 1 | 1 | 1 | 0 | 0 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Х10 | 1 | 1 | 1 | 1 | 1 | 0 | 0 |

Проверим их на приспособленность, в случае чего введем мутацию:

|  Х9 | 0 | 0 | 1 | 1 | 1 | 0 | 0 | 22 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х10 | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 42 |

Оба потомка приспособлены, мутация не требуется.

### 9.
Составим таблицу четвертого поколения, взяв самых сильных потомков из предыдущего поколения, с соответствующими данными:

|  Х9 | 0 | 0 | 1 | 1 | 1 | 0 | 0 | 22 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х10 | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 42 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
|  Х1 | 1 | 0 | 1 | 1 | 1 | 0 | 0 | 32 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
|  Х8 | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 34 |

### 10.
Для скрещивания отбираем сильнейших особей, для этого отсортируем по убыванию и возьмем 2 первые особи:

| Х10 | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 42 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
|  Х8 | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 34 |

### 11. 
Для одноточечного скрещивания проведем произвольную линию:

| Х10 | 1/ | 1 | 1 | 1 | 1 | 0 | 0 |
|:---:|:--:|:-:|:-:|:-:|:-:|:-:|:-:|
|  Х8 | 0\ | 1 | 1 | 1 | 1 | 0 | 0 |

И сформируем следующих потомков:

| Х11 | 1 | 1 | 1 | 1 | 1 | 0 | 0 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| Х12 | 0 | 1 | 1 | 1 | 1 | 0 | 0 |

Проверим их на приспособленность, в случае чего введем мутацию:

| Х11 | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 42 |
|:---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:--:|
| Х12 | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 34 |

Оба потомка приспособлены, мутация не требуется.
Мы попали в такую ситуацию, что дальше при одноточечном скрещивании у потомков будут одинаковые данные и одна стоимость.
