# Задача о рюкзаке (Knapsack problem). Генетический алгоритм.

### Вариант 2:
Решить задачу о рюкзаке с применением генетического алгоритма, с учетом следующих требований:
   - Придумать условия задачи с количеством предметов не менее 8.
   - Численность популяции не менее 6 особей, в скрещивании участвует 1/3 популяции. 
   - Для скрещивания выбираются сильнейшие особи, скрещивание – двухточечное.
   - До выполнения алгоритма сформулировать стратегию применения оператора мутации.
   - Сформировать не менее 3 поколений, не считая первоначального.

## Условия задачи

Дано 8 предметов, их стоимости и веса:

| Предметы  |  A  | B |  C  | D | E | F | G | H |
|:----------|:---:|:-:|:---:|:-:|:-:|:-:|:-:|:-:|
| Стоимость | 10 | 15 | 20 | 25 | 5 | 12 | 18 | 8 |
| Вес       | 2 | 3 | 5 | 7 | 1 | 4 | 6 | 2 |

Максимальный помещающийся в рюкзак вес = 15.

Сформировать 4 поколения. Численность популяции 6 особей. В скрещивании участвует 1/3 популяции, то есть 2 особи. Для скрещивания выбираются сильнейшие особи, а скрещивание - двухточечное.

Оператор мутации применяется в одном случайном гене, если два поколения подряд лидер не сменялся, либо если данный потомок оказался недееспособен (в этом случае применяется максимум два раза), либо потомок повторяет одну из особей в популяции.

Если вес особи превышает максимальный допустимый, тогда она считается недееспособной.

## Решение

Пусть особи будут предствалены в виде строк, которые содержат только 0 и 1(где 0 - предмет не был взят в рюкзак, а 1 - был взят).
Если особь дееспособна(вес выбранных предметов не превышает грузоподъёмность рюкзака), то значение фитнес функции равно 0. В остальных случаях значением фитнес функции будет являться стоимость выбранных предметов, которая будет в дальнейшем указываться в скобках после каждой особи.

### Поколение 1

#### Начальная популяция
1. **x1**: `10100101` (вес 13, стоимость 50)
2. **x2**: `01101001` (вес 11, стоимость 48)
3. **x3**: `11010010` (вес 18, стоимость 68) → недееспособен (вес > 15)
4. **x4**: `00101101` (вес 12, стоимость 45)
5. **x5**: `10010010` (вес 10, стоимость 53)
6. **x6**: `01000101` (вес 10, стоимость 35)

#### Мутация
- **x3** мутирует: `11010010` → `11010000` (вес 11, стоимость 50).

#### Отбор
Сильнейшие особи: **x1** и **x5**.

#### Скрещивание
- **x1**: `10|100|101`
- **x5**: `10|010|010`

Потомки:
- **x7**: `10010101` (вес 12, стоимость 55)
- **x8**: `10100010` (вес 11, стоимость 48)

---

### Поколение 2

#### Популяция
1. **x1**: `10100101` (вес 13, стоимость 50)
2. **x5**: `10010010` (вес 10, стоимость 53)
3. **x7**: `10010101` (вес 12, стоимость 55)
4. **x8**: `10100010` (вес 11, стоимость 48)
5. **x3**: `11010000` (вес 11, стоимость 50)
6. **x4**: `00101101` (вес 12, стоимость 45)

#### Отбор
Сильнейшие особи: **x7** и **x5**.

#### Скрещивание
- **x7**: `100|101|01`
- **x5**: `100|100|10`

Потомки:
- **x9**: `10010001` (вес 10, стоимость 53)
- **x10**: `10010110` (вес 13, стоимость 58)

---

### Поколение 3

#### Популяция
1. **x7**: `10010101` (вес 12, стоимость 55)
2. **x5**: `10010010` (вес 10, стоимость 53)
3. **x9**: `10010001` (вес 10, стоимость 53)
4. **x10**: `10010110` (вес 13, стоимость 58)
5. **x1**: `10100101` (вес 13, стоимость 50)
6. **x3**: `11010000` (вес 11, стоимость 50)

#### Отбор
Сильнейшие особи: **x10** и **x7**.

#### Скрещивание
- **x10**: `100|101|10`
- **x7**: `100|101|01`

Потомки:
- **x11**: `10010101` (вес 12, стоимость 55)
- **x12**: `10010110` (вес 13, стоимость 58)

---

### Поколение 4

#### Популяция
1. **x10**: `10010110` (вес 13, стоимость 58)
2. **x7**: `10010101` (вес 12, стоимость 55)
3. **x11**: `10010101` (вес 12, стоимость 55)
4. **x12**: `10010110` (вес 13, стоимость 58)
5. **x5**: `10010010` (вес 10, стоимость 53)
6. **x9**: `10010001` (вес 10, стоимость 53)

#### Мутация
- **x10** и **x12** одинаковы => проведём мутацию **x12**
  - **x12**: `10010110` → `10010111` (вес 15, стоимость 60)
- **x7** и **x11** одинаковы => проведём мутацию **x11**
  - **x11**: `10010101` → `10000101` (вес 8, стоимость 30)

---

### Итоговое решение
Наилучшее решение: **x12** с бинарной строкой `10010111` (предметы A, D, F, G,  H) с весом 15 кг и стоимостью 60.

