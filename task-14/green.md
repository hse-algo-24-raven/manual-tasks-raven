# Задание №11+
# Транспортная задача. Решение с использованием алгоритма поиска максимального потока минимальной стоимости.
## Вариант 5:

Два завода имеют производительность 6 и 7, а два складских помещения имеют вместимость 8 и 9. Матрица затрат на перевозку одной единицы товара (строки – это заводы, столбцы – это склады) имеет вид:

$$
 \begin{pmatrix}    
  7 & 5 \\ 
  2 & 4 \\ 
 \end{pmatrix}    
$$

Требуется:
1. Найти стоимость перевозки с первого завода на первый склад 6 единиц товара, а со второго завода на второй склад 7 единиц товара;
2. Используя алгоритм поиска максимального потока минимальной стоимости, скорректировать указанный выше вариант перевозки товаров, так чтобы объём перевозимых товаров не изменился, а стоимость их перевозки стала минимальной.

## Пункт 1. 
(Завод А в 1 склад перевозит 6 единиц по стоимости 7) 6 * 7 + (Завод B в 2 склад перевозит 7 единиц по стоимости 4 )7 * 4 = 70

## Шаг 1
Построим сеть с источником s, стоком t и указанными пропускными способностями дуг для поиска максимального потока.
```mermaid
graph LR
    s-->|"(6,6)"|A
    s-->|"(7,7)"|B
    A-->|"(6,6)"|I
    A-->|"(0,6)"|II
    B-->|"(0,7)"|I
    B-->|"(7,7)"|II
    I-->|"(6,8)"|t
    II-->|"(7,9)"|t
```
Получаем сеть при отправке 6 у.е. с завода А на 1 склад, 7 у.е. с завода B на 2 склад:
```mermaid
graph LR
    s-->|6|A
    s-->|7|B
    A-->|6|I
    B-->|7|II
    I-->|6|t
    II-->|7|t
```
Посчитаем стоимость такой транспортировки: 6 * 7 + 7 * 4 = 70.
## Шаг 2
Построим остаточные сети для пропускной способности и стоимости транспортировки. В случае со стоимостями прямые дуги будут со знаком "-", а обратные со знаком "+".
```mermaid
graph LR
    s-->|6|A
    s-->|7|B
    A-->|6|I
    II-.->|6|A
    B-->|7|II
    I-.->|7|B
    I-->|6|t
    t-.->|2|I
    II-->|7|t
    t-.->|2|II
```
```mermaid
graph LR
    s-->|0|A
    s-->|0|B
    A-->|-7|I
    II-.->|5|A
    B-->|-4|II
    I-.->|2|B
    I-->|0|t
    t-.->|0|I
    II-->|0|t
    t-.->|0|II
```
Выполним поиск цикла отрицательной стоимости. Найден следующий цикл:
B --> II --> A --> I --> B (-4 + 5 - 7 + 2 = -4). Минимальное значение = 6. Уменьшим вес дуг на найденном пути на величину равную минимуму.

```mermaid
graph LR
    s-->|6|A
    s-->|7|B
    I-.->|6|A
    A-->|6|II
    B-->|1|II
    II-.->|6|B
    B-->|6|I
    I-.->|1|B
    I-->|6|t
    t-.->|2|I
    II-->|7|t
    t-.->|2|II
```

```mermaid
graph LR
    s-->|"(6,0)"|A
    s-->|"(7,0)"|B
    A-->|"(6,5)"|II
    B-->|"(6,2)"|I
    B-->|"(1,4)"|II
    I-->|"(6,0)"|t
    II-->|"(7,0)"|t
```
## Шаг 3
Выполним поиск цикла отрицательной стоимости. 
```mermaid
graph LR
    s-->|0|A
    s-->|0|B
    I-.->|7|A
    A-->|-5|II
    B-->|-4|II
    II-.->|4|B
    B-->|-2|I
    I-.->|2|B
    I-->|0|t
    t-.->|0|I
    II-->|0|t
    t-.->|0|II
```

Нет отрицательного цикла. Тогда итоговый граф будет иметь следующий вид:


```mermaid
graph LR
    s-->|"(6,6)"|A
    s-->|"(7,7)"|B
    A-->|"(6,6)"|II
    B-->|"(6,7)"|I
    B-->|"(1,7)"|II
    I-->|"(6,8)"|t
    II-->|"(7,9)"|t
```

Выполним расчёты итоговой стоимости перевозки:
A -6-> II равно 6 * 5 = 30. B -6-> I и B -1-> II равно 6 * 2 + 1 * 4 = 12 + 4 = 16. В сумме 46.
## Ответ:
Наибольший объём товаров можно доставить на склады с минимальной стоимостью транспортировки равной 46 у.е.